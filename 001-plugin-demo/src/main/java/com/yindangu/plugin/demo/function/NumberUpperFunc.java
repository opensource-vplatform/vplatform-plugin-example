package com.yindangu.plugin.demo.function;import java.util.ArrayList;import java.util.List;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import com.yindangu.plugin.demo.BusinessUtil;import com.yindangu.v3.business.plugin.business.IResponseVo;import com.yindangu.v3.business.plugin.business.api.func.IFuncContext;import com.yindangu.v3.business.plugin.business.api.func.IFuncOutputVo;import com.yindangu.v3.business.plugin.business.api.func.IFuncVObject;import com.yindangu.v3.business.plugin.business.api.func.IFunction; /** * 数字转换成汉字 * @author jiqj * */public class NumberUpperFunc implements IFunction{	public static final String D_Code="numberConvertFunc";    private static final Logger log = LoggerFactory.getLogger(NumberUpperFunc.class);    public NumberUpperFunc(){        log.info("函数:数字转换成汉字");    }    @Override    public IFuncOutputVo evaluate(IFuncContext context) {        /////////////////参数检查///////////////////        Number nb = (Number)context.getInput(0);        if(nb == null){            throw new RuntimeException("参数1--行数不能为空！");        }        ////////////////业务实现 api 完全与V平台无关////////////////////        String rs = BusinessUtil.toChinese(nb.intValue());        log.info("数字（{}）转换成汉字（{}）",nb,rs);        //IResponseBuilder b = VDS.getBuilder().getResponseBuilder();        IFuncOutputVo vo = context.newOutputVo();        return vo.put(rs);    }        /**     * 单机调试代码     * @param args     */    public static void main(String[] args){        final List<Object> pars = new ArrayList<Object>();        pars.add(92287);        IFuncContext fc = new IFuncContext() {            @Override              public int getInputSize() {                 return pars.size();            }            @Override            public Object getInput(int idx) {                  return (idx < pars.size() ? pars.get(idx) : null);            }			@Override			public IFuncVObject getVObject() {				// TODO Auto-generated method stub				return null;			}			@Override			public IFuncOutputVo newOutputVo() {				// TODO Auto-generated method stub				return null;			}        };                IFunction  func = new NumberUpperFunc();         IFuncOutputVo fr = func.evaluate(fc);        log.info("函数返回:"  + fr.get());    }} 